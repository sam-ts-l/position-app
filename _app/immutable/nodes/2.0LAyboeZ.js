import{s as Fe,p as de,f as _,a as D,l as ee,g as w,h as N,d as b,c as E,y as Y,m as te,j as v,i as x,A as f,B as we,C as fe,n as ye,D as Re,o as He,e as re,z as Ue}from"../chunks/scheduler.CoAZU387.js";import{S as ze,i as Qe,f as he,b as P,d as V,m as j,a as M,t as C,e as F,g as Ye,c as We}from"../chunks/index.BS_oGWe_.js";import{g as Be,G as Je,M as Ke,a as Te,e as De,u as Xe,b as Ze,F as et,h as tt,L as nt,c as ot,D as at,P as Ie,o as rt}from"../chunks/utils.nSssa9Bl.js";const Tt=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"}));function lt(){return{places:[{questId:1,name:"State Library Victoria",description:"State Library Victoria",hint0:"I am a place of knowledge, where the whispers of history echo through my walls of grand halls and a famous dome crowns my central space.",hint1:"I am a place of knowledge, where the whispers of history echo through my walls of grand halls and a famous dome crowns my central space.",hint2:"Established in 1854, I am Australia’s oldest public library with over 2 million books inside me.",hint3:"Look for my distinctive reading room, which features a stunning circular design and a ceiling adorned with intricate details, making it a popular spot for both study and photography.",latitude:-37.81,longitude:144.964598,areaScale:5},{questId:2,name:"Carlton Gardens",description:"Carlton Gardens",hint0:"I’m a large green space in the center of Melbourne, where history and nature come together, and I have a big building that used to host international exhibitions.",hint1:"I’m a large green space in the center of Melbourne, where history and nature come together, and I have a big building that used to host international exhibitions.",hint2:"I’m a UNESCO World Heritage Site that started in the 1850s and became well-known for hosting Australia’s first Parliament in my famous exhibition building in 1901.",hint3:"Look for my large grassy areas, tree-lined paths, and decorative fountains, along with a children's playground shaped like a Victorian maze, all surrounding a beautiful dome-topped building.",latitude:-37.805431,longitude:144.971399,areaScale:10},{questId:3,name:"Eight Hour Day Monument",description:"Eight Hour Day Monument",hint0:"I am a tribute to an important labor movement, featuring three connected figures that represent a balanced life of work, rest, and play.",hint1:"I am a tribute to an important labor movement, featuring three connected figures that represent a balanced life of work, rest, and play.",hint2:"Look for the striking bronze statue of a worker holding a pickaxe, surrounded by intricate engravings that tell the story of labor rights and struggles.",hint3:"Look for my unique granite column with a globe on top and the words 'Rest, Labour, Recreation,' clearly shown at the corner of Russell and Victoria Streets.",latitude:-37.807153,longitude:144.965577,areaScale:2},{questId:4,name:"Melbourne Museum",description:"Melbourne Museum",hint0:"I am a place full of knowledge, where history meets today, and I have a giant dinosaur that once walked the Earth.",hint1:"I am a place full of knowledge, where history meets today, and I have a giant dinosaur that once walked the Earth.",hint2:"Founded in 1854, I display Australia's rich cultural heritage, including exhibits on Aboriginal history and Melbourne's development.",hint3:"Look for my eye-catching modern design, with large galleries that feature a lush rainforest and an impressive IMAX theater, all in the World Heritage-listed Royal Exhibition Building.",latitude:-37.8033,longitude:144.971754,areaScale:4},{questId:5,name:"French Fountain",description:"French Fountain",hint0:"I am a lovely focal point in an old garden, where water flows beautifully, reflecting the elegance of the past.",hint1:"I am a lovely focal point in an old garden, where water flows beautifully, reflecting the elegance of the past.",hint2:"Originally gifted to Melbourne in the late 19th century, the fountain serves as a symbol of friendship between Melbourne and its sister city, Paris.",hint3:"Look for my detailed lion masks and the beautifully crafted cast iron cap on my basin, all set against the Royal Exhibition Building.",latitude:-37.804866,longitude:144.972849,areaScale:2},{questId:6,name:"Charles George Gordon Memorial",description:"Charles George Gordon Memorial",hint0:"Look for a statue of a brave figure standing tall with a cane in one hand and a Bible in the other, where stories of courage can be felt in the park.",hint1:"Look for a statue of a brave figure standing tall with a cane in one hand and a Bible in the other, where stories of courage can be felt in the park.",hint2:"Find me at the corner of Spring and Macarthur Streets, where I sit on a large limestone and granite base, surrounded by greenery and a sense of history.",hint3:"I honor Charles George Gordon, a British Army officer known for his service in various military campaigns, including in China and Sudan.",latitude:-37.808355,longitude:144.972903,areaScale:2},{questId:7,name:"Francis Ormond Building",description:"Francis Ormond Building",hint0:"Find the oldest educational building at RMIT, where the drive for self-improvement among working men and women began in the late 19th century.",hint1:"Find the oldest educational building at RMIT, where the drive for self-improvement among working men and women began in the late 19th century.",hint2:"Founded in 1887 as Melbourne's first Working Men's College, I honor my founder, a philanthropist who changed education for the working class.",hint3:"Look for my impressive Gothic Revival architecture on La Trobe Street, with detailed stonework and a prominent statue of my founder in front.",latitude:-37.808906,longitude:144.965215,areaScale:2},{questId:8,name:"Old Melbourne Gaol",description:"Old Melbourne Gaol",hint0:"Look for the historic site where notorious criminals were once held, and where the echoes of justice and punishment remain.",hint1:"Look for the historic site where notorious criminals were once held, and where the echoes of justice and punishment remain.",hint2:"Established in 1845 and active until 1924, I am known for holding some of Australia’s most infamous inmates, including the legendary bushranger Ned Kelly, who met his end here.",hint3:"Find my big bluestone building at 377 Russell Street, with original cells and a gallows, in a museum that shares the stories of those who lived and died here.",latitude:-37.807832,longitude:144.965317,areaScale:4},{questId:9,name:"Victorian Trades Hall Council",description:"Victorian Trades Hall Council",hint0:"This building is a significant site for the labor movement in Australia, serving as a venue for important meetings and events related to workers' rights.",hint1:"This building is a significant site for the labor movement in Australia, serving as a venue for important meetings and events related to workers' rights.",hint2:"I am home to the oldest trade union building in the world, where the eight-hour workday was first championed by dedicated laborers.",hint3:"Look for my grand façade on Lygon Street, featuring a tall clock tower and colorful murals that celebrate the labor movement's history.",latitude:-37.806467,longitude:144.966378,areaScale:3},{questId:10,name:"Sir Redmond Barry Statue",description:"Sir Redmond Barry Statue",hint0:"Look for a prominent bronze figure standing proudly outside a grand library, where the pursuit of knowledge and culture is celebrated.",hint1:"Look for a prominent bronze figure standing proudly outside a grand library, where the pursuit of knowledge and culture is celebrated.",hint2:"I honor an important figure in Melbourne's history, known for founding the State Library of Victoria and overseeing the trial of a famous bushranger.",hint3:"Find me at the front of the State Library, on a tall granite base, with detailed bronze work that reflects my legacy.",latitude:-37.810031,longitude:144.964345,areaScale:2}]}}function Le(r){let n,e=lt().places;for(let t=0;t<e.length;t++)if(e[t].questId==r)return n=e[t],n}function it(r,n){const o=n.length*50;return 500+Math.max((3600-r)*.05,0)-o}function Ae(r){const n={Novice:0,Explorer:500,Adventurer:1500,Seeker:3e3,Navigator:5e3,Historian:8e3,Pathfinder:12e3,Discoverer:17500,Voyager:25e3,Champion:5e4,Legend:1e5};let e=null;for(let t in n){if(r<n[t])return e;e=t}return e}function st(r,n,e){let t=[],o=[],a=0,i;for(let c=0;c<n.length;c++){let h=n[c],g=Le(h).latitude,s=Le(h).longitude,d=Be([r,{lngLat:{lat:g,lng:s}}]);t.push({id:h,distance:d})}o=t.sort((c,h)=>h.distance-c.distance),console.log("Quests distance:",t),console.log("Quests with shortest distance:",o);let l=Math.floor(Math.random()*n.length);return a=o[l],a==null?(alert("You have completed all the quests. Game over!"),"Game Over"):(i=Le(a.id),alert("Quest: "+i.hint0),i)}function ut(r,n,e,t,o,a){if(!t.includes(r)){console.log("Quest already completed. Skipping.");return}setTimeout(function(){},1e3);let i=t.indexOf(r);t.splice(i,1),a=a+1;const l=it((Date.now()-n)*1e3,e);o=o+l;const c=Ae(o);return console.log("DEBUG"),console.log("Quest ID:",r),console.log("Quest Score:",l),console.log("Total Score:",o),console.log("New Level:",c),console.log("Remaining Quests:",t),console.log("Quests Completed:",a),console.log("Used Hints:",e),e=[],alert("Congratulations! You have completed the quest. Total score: "+l+". Your level: "+c),[e.length,o,a]}function ct(){const r=Date.now();return console.log("Game started at:",r),r}function dt(r,n,e){alert(r.hint1);let t=Math.min(Math.max(Math.random(),.11),.3)*.01/2,o=Math.min(Math.max(Math.random(),.11),.3)*.01,a=r.latitude+t,i=r.longitude+o;e.flyTo({center:[i,a],zoom:15}),n.includes(1)||n.push(1)}function ft(r,n){if(!n.includes(1)){alert("You need to use the previous hints first.");return}alert(r.hint2),n.includes(2)||n.push(2)}function ht(r,n){if(!n.includes(1)||!n.includes(2)){alert("You need to use the previous hints first.");return}alert(r.hint3),n.includes(3)||n.push(3)}function Ee(r,n,e){const t=r.slice();return t[39]=n[e].lngLat,t[40]=n[e].label,t[41]=n[e].name,t[43]=e,t}function Ne(r){var e;const n=(e=r[44])==null?void 0:e.properties;r[45]=n}function mt(r){let n,e;return n=new Ze({props:{id:"geojsonData",data:r[9],promoteId:"name",$$slots:{default:[bt]},$$scope:{ctx:r}}}),{c(){P(n.$$.fragment)},l(t){V(n.$$.fragment,t)},m(t,o){j(n,t,o),e=!0},p(t,o){const a={};o[0]&512&&(a.data=t[9]),o[1]&32768&&(a.$$scope={dirty:o,ctx:t}),n.$set(a)},i(t){e||(M(n.$$.fragment,t),e=!0)},o(t){C(n.$$.fragment,t),e=!1},d(t){F(n,t)}}}function xe(r){let n,e,t=r[45].name+"",o;return{c(){n=_("div"),e=_("p"),o=ee(t),this.h()},l(a){n=w(a,"DIV",{class:!0});var i=N(n);e=w(i,"P",{});var l=N(e);o=te(l,t),l.forEach(b),i.forEach(b),this.h()},h(){v(n,"class","flex flex-col gap-2")},m(a,i){x(a,n,i),f(n,e),f(e,o)},p(a,i){i[1]&8192&&t!==(t=a[45].name+"")&&ye(o,t)},d(a){a&&b(n)}}}function gt(r){Ne(r);let n,e=r[45]&&xe(r);return{c(){e&&e.c(),n=re()},l(t){e&&e.l(t),n=re()},m(t,o){e&&e.m(t,o),x(t,n,o)},p(t,o){Ne(t),t[45]?e?e.p(t,o):(e=xe(t),e.c(),e.m(n.parentNode,n)):e&&(e.d(1),e=null)},d(t){t&&b(n),e&&e.d(t)}}}function pt(r){let n,e;return n=new Ie({props:{openOn:"hover",$$slots:{default:[gt,({data:t})=>({44:t}),({data:t})=>[0,t?8192:0]]},$$scope:{ctx:r}}}),{c(){P(n.$$.fragment)},l(t){V(n.$$.fragment,t)},m(t,o){j(n,t,o),e=!0},p(t,o){const a={};o[1]&40960&&(a.$$scope={dirty:o,ctx:t}),n.$set(a)},i(t){e||(M(n.$$.fragment,t),e=!0)},o(t){C(n.$$.fragment,t),e=!1},d(t){F(n,t)}}}function bt(r){let n,e,t,o;return n=new et({props:{paint:{"fill-color":tt("purple","yellow"),"fill-opacity":.3},beforeLayerType:"symbol",manageHoverState:!0,$$slots:{default:[pt]},$$scope:{ctx:r}}}),t=new nt({props:{layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":"purple","line-width":3},beforeLayerType:"symbol"}}),{c(){P(n.$$.fragment),e=D(),P(t.$$.fragment)},l(a){V(n.$$.fragment,a),e=E(a),V(t.$$.fragment,a)},m(a,i){j(n,a,i),x(a,e,i),j(t,a,i),o=!0},p(a,i){const l={};i[1]&32768&&(l.$$scope={dirty:i,ctx:a}),n.$set(l)},i(a){o||(M(n.$$.fragment,a),M(t.$$.fragment,a),o=!0)},o(a){C(n.$$.fragment,a),C(t.$$.fragment,a),o=!1},d(a){a&&b(e),F(n,a),F(t,a)}}}function _t(r){let n,e=r[41]+"",t;return{c(){n=_("div"),t=ee(e),this.h()},l(o){n=w(o,"DIV",{class:!0});var a=N(n);t=te(a,e),a.forEach(b),this.h()},h(){v(n,"class","text-lg font-bold")},m(o,a){x(o,n,a),f(n,t)},p(o,a){a[0]&64&&e!==(e=o[41]+"")&&ye(t,e)},d(o){o&&b(n)}}}function wt(r){let n,e=r[40]+"",t,o,a,i;return a=new Ie({props:{openOn:"hover",offset:[0,-10],$$slots:{default:[_t]},$$scope:{ctx:r}}}),{c(){n=_("span"),t=ee(e),o=D(),P(a.$$.fragment)},l(l){n=w(l,"SPAN",{});var c=N(n);t=te(c,e),c.forEach(b),o=E(l),V(a.$$.fragment,l)},m(l,c){x(l,n,c),f(n,t),x(l,o,c),j(a,l,c),i=!0},p(l,c){(!i||c[0]&64)&&e!==(e=l[40]+"")&&ye(t,e);const h={};c[0]&64|c[1]&32768&&(h.$$scope={dirty:c,ctx:l}),a.$set(h)},i(l){i||(M(a.$$.fragment,l),i=!0)},o(l){C(a.$$.fragment,l),i=!1},d(l){l&&(b(n),b(o)),F(a,l)}}}function qe(r,n){let e,t,o;return t=new ot({props:{lngLat:n[39],class:"text-4xl text-black",$$slots:{default:[wt]},$$scope:{ctx:n}}}),{key:r,first:null,c(){e=re(),P(t.$$.fragment),this.h()},l(a){e=re(),V(t.$$.fragment,a),this.h()},h(){this.first=e},m(a,i){x(a,e,i),j(t,a,i),o=!0},p(a,i){n=a;const l={};i[0]&64&&(l.lngLat=n[39]),i[0]&64|i[1]&32768&&(l.$$scope={dirty:i,ctx:n}),t.$set(l)},i(a){o||(M(t.$$.fragment,a),o=!0)},o(a){C(t.$$.fragment,a),o=!1},d(a){a&&b(e),F(t,a)}}}function yt(r){let n,e;return n=new at({props:{lngLat:r[12].lngLat,$$slots:{default:[kt]},$$scope:{ctx:r}}}),{c(){P(n.$$.fragment)},l(t){V(n.$$.fragment,t)},m(t,o){j(n,t,o),e=!0},p(t,o){const a={};o[1]&32768&&(a.$$scope={dirty:o,ctx:t}),n.$set(a)},i(t){e||(M(n.$$.fragment,t),e=!0)},o(t){C(n.$$.fragment,t),e=!1},d(t){F(n,t)}}}function vt(r){let n,e="You";return{c(){n=_("div"),n.textContent=e,this.h()},l(t){n=w(t,"DIV",{class:!0,"data-svelte-h":!0}),Y(n)!=="svelte-1wiwej8"&&(n.textContent=e),this.h()},h(){v(n,"class","text-lg font-bold")},m(t,o){x(t,n,o)},p:Ue,d(t){t&&b(n)}}}function kt(r){let n,e;return n=new Ie({props:{offset:[0,-10],$$slots:{default:[vt]},$$scope:{ctx:r}}}),{c(){P(n.$$.fragment)},l(t){V(n.$$.fragment,t)},m(t,o){j(n,t,o),e=!0},p(t,o){const a={};o[1]&32768&&(a.$$scope={dirty:o,ctx:t}),n.$set(a)},i(t){e||(M(n.$$.fragment,t),e=!0)},o(t){C(n.$$.fragment,t),e=!1},d(t){F(n,t)}}}function $t(r){let n,e=[],t=new Map,o,a,i,l=mt(r),c=De(r[6]);const h=s=>s[43];for(let s=0;s<c.length;s+=1){let u=Ee(r,c,s),d=h(u);t.set(d,e[s]=qe(d,u))}let g=r[12].lngLat&&yt(r);return{c(){l&&l.c(),n=D();for(let s=0;s<e.length;s+=1)e[s].c();o=ee(`\r
\r
        Display the watched position as a marker\r
        `),g&&g.c(),a=re()},l(s){l&&l.l(s),n=E(s);for(let u=0;u<e.length;u+=1)e[u].l(s);o=te(s,`\r
\r
        Display the watched position as a marker\r
        `),g&&g.l(s),a=re()},m(s,u){l&&l.m(s,u),x(s,n,u);for(let d=0;d<e.length;d+=1)e[d]&&e[d].m(s,u);x(s,o,u),g&&g.m(s,u),x(s,a,u),i=!0},p(s,u){l.p(s,u),u[0]&64&&(c=De(s[6]),Ye(),e=Xe(e,u,h,1,s,c,t,o.parentNode,rt,qe,o,Ee),We()),s[12].lngLat&&g.p(s,u)},i(s){if(!i){M(l);for(let u=0;u<c.length;u+=1)M(e[u]);M(g),i=!0}},o(s){C(l);for(let u=0;u<e.length;u+=1)C(e[u]);C(g),i=!1},d(s){s&&(b(n),b(o),b(a)),l&&l.d(s);for(let u=0;u<e.length;u+=1)e[u].d(s);g&&g.d(s)}}}function Lt(r){let n,e,t,o,a,i,l,c,h,g,s=`GNSS ACCU:  
            <span id="debug-msg" class="tracking-tighter">N/A</span>`,u,d,me=`Distance:  
            <span id="distance">N/A</span>`,H,k,q,B,R="N/A",W,U,T,$,ne,oe,z,L,A,ge="Center",le,G,pe="Hint 1",ie,O,be="Hint 2",p,I,J="Hint 3",se,S,ue,ve,ce,ke,Se;function Ge(m){r[21](m)}function Oe(m){r[22](m)}function Pe(m){r[23](m)}let _e={getPosition:!0,options:r[10],watch:!0};r[2]!==void 0&&(_e.position=r[2]),r[0]!==void 0&&(_e.success=r[0]),r[1]!==void 0&&(_e.error=r[1]),o=new Je({props:_e}),de.push(()=>he(o,"position",Ge)),de.push(()=>he(o,"success",Oe)),de.push(()=>he(o,"error",Pe)),o.$on("position",r[24]);function Ve(m){r[29](m)}function je(m){r[30](m)}let $e={class:"map flex-grow min-h-[500px] gameMapControl",standardControls:!0,style:"https://tiles.basemaps.cartocdn.com/gl/voyager-gl-style/style.json",zoom:14,$$slots:{default:[$t]},$$scope:{ctx:r}};return r[7]!==void 0&&($e.bounds=r[7]),r[4]!==void 0&&($e.map=r[4]),S=new Ke({props:$e}),de.push(()=>he(S,"bounds",Ve)),de.push(()=>he(S,"map",je)),{c(){n=_("div"),e=_("div"),t=_("div"),P(o.$$.fragment),c=D(),h=_("div"),g=_("div"),g.innerHTML=s,u=D(),d=_("div"),d.innerHTML=me,H=D(),k=_("div"),q=ee(`Score:  \r
            `),B=_("span"),B.textContent=R,W=D(),U=_("br"),T=ee(`\r
            Level:  \r
            `),$=_("span"),ne=ee(r[8]),oe=D(),z=_("div"),L=_("div"),A=_("button"),A.textContent=ge,le=D(),G=_("button"),G.textContent=pe,ie=D(),O=_("button"),O.textContent=be,p=D(),I=_("button"),I.textContent=J,se=D(),P(S.$$.fragment),this.h()},l(m){n=w(m,"DIV",{class:!0});var y=N(n);e=w(y,"DIV",{class:!0});var K=N(e);t=w(K,"DIV",{class:!0});var X=N(t);V(o.$$.fragment,X),X.forEach(b),K.forEach(b),c=E(y),h=w(y,"DIV",{class:!0});var ae=N(h);g=w(ae,"DIV",{class:!0,"data-svelte-h":!0}),Y(g)!=="svelte-98scaj"&&(g.innerHTML=s),u=E(ae),d=w(ae,"DIV",{class:!0,"data-svelte-h":!0}),Y(d)!=="svelte-172gan1"&&(d.innerHTML=me),H=E(ae),k=w(ae,"DIV",{class:!0});var Z=N(k);q=te(Z,`Score:  \r
            `),B=w(Z,"SPAN",{id:!0,"data-svelte-h":!0}),Y(B)!=="svelte-7g7nib"&&(B.textContent=R),W=E(Z),U=w(Z,"BR",{}),T=te(Z,`\r
            Level:  \r
            `),$=w(Z,"SPAN",{id:!0,class:!0});var Me=N($);ne=te(Me,r[8]),Me.forEach(b),Z.forEach(b),ae.forEach(b),oe=E(y),z=w(y,"DIV",{class:!0});var Ce=N(z);L=w(Ce,"DIV",{class:!0});var Q=N(L);A=w(Q,"BUTTON",{class:!0,"data-svelte-h":!0}),Y(A)!=="svelte-11ne4ul"&&(A.textContent=ge),le=E(Q),G=w(Q,"BUTTON",{class:!0,"data-svelte-h":!0}),Y(G)!=="svelte-1k1teut"&&(G.textContent=pe),ie=E(Q),O=w(Q,"BUTTON",{class:!0,"data-svelte-h":!0}),Y(O)!=="svelte-1rf97u5"&&(O.textContent=be),p=E(Q),I=w(Q,"BUTTON",{class:!0,"data-svelte-h":!0}),Y(I)!=="svelte-rn1029"&&(I.textContent=J),Q.forEach(b),Ce.forEach(b),se=E(y),V(S.$$.fragment,y),y.forEach(b),this.h()},h(){v(t,"class","col-span-4 md:col-span-1 text-center"),v(e,"class","grid grid-cols-4"),v(g,"class","flex items-center"),v(d,"class","ml-auto"),v(B,"id","scorebox"),v($,"id","level"),v($,"class","mt-1"),v(k,"class","ml-auto"),v(h,"class","px-8 flex new-row items-center w-30 max-w-30 font-bold text-sm"),v(A,"class","btn-sm btn-ghost text-sm"),v(G,"class","btn-sm btn-ghost text-sm mx-2"),v(O,"class","btn-sm btn-ghost text-sm mx-2"),v(I,"class","btn-sm btn-ghost text-sm mx-2"),v(L,"class","flex justify-center align-middle mt-2"),v(z,"class","flex flex-col items-center"),v(n,"class","flex flex-col h-[calc(100vh-80px)] w-full")},m(m,y){x(m,n,y),f(n,e),f(e,t),j(o,t,null),f(n,c),f(n,h),f(h,g),f(h,u),f(h,d),f(h,H),f(h,k),f(k,q),f(k,B),f(k,W),f(k,U),f(k,T),f(k,$),f($,ne),f(n,oe),f(n,z),f(z,L),f(L,A),f(L,le),f(L,G),f(L,ie),f(L,O),f(L,p),f(L,I),f(n,se),j(S,n,null),ce=!0,ke||(Se=[we(A,"click",r[25]),we(G,"click",r[26]),we(O,"click",r[27]),we(I,"click",r[28])],ke=!0)},p(m,y){const K={};!a&&y[0]&4&&(a=!0,K.position=m[2],fe(()=>a=!1)),!i&&y[0]&1&&(i=!0,K.success=m[0],fe(()=>i=!1)),!l&&y[0]&2&&(l=!0,K.error=m[1],fe(()=>l=!1)),o.$set(K),(!ce||y[0]&256)&&ye(ne,m[8]);const X={};y[0]&576|y[1]&32768&&(X.$$scope={dirty:y,ctx:m}),!ue&&y[0]&128&&(ue=!0,X.bounds=m[7],fe(()=>ue=!1)),!ve&&y[0]&16&&(ve=!0,X.map=m[4],fe(()=>ve=!1)),S.$set(X)},i(m){ce||(M(o.$$.fragment,m),M(S.$$.fragment,m),ce=!0)},o(m){C(o.$$.fragment,m),C(S.$$.fragment,m),ce=!1},d(m){m&&b(n),F(o),F(S),ke=!1,Re(Se)}}}function It(r,n,e){let t=[{lngLat:{lng:0,lat:0},label:"⌛ Loading...",name:"Please wait for the game to load"}],o=Te(t);const a={enableHighAccuracy:!0,timeout:1/0,maximumAge:0};let i=!1,l="",c={},h=[144.9639,-37.8083],g,s,u={},d=0,me=0,H=!0,k,q="N/A",B="Novice",R=[],W=[1,2,3,4,5,6,7,8,9,10],U=0,T=0,$={},ne={},oe;He(async()=>{const p=await fetch("melbourne.geojson");e(9,oe=await p.json())});function z(p){c=p,e(2,c)}function L(p){i=p,e(0,i)}function A(p){l=p,e(1,l)}const ge=p=>{e(5,$=p.detail)},le=()=>{e(7,o=Te(t))},G=()=>dt(d,R,k),pe=()=>ft(d,R),ie=()=>ht(d,R);function O(p){o=p,e(7,o)}function be(p){k=p,e(4,k)}return r.$$.update=()=>{if(r.$$.dirty[0]&1,r.$$.dirty[0]&2&&l&&(console.error("Error:",l.message),document.getElementsByClassName("maplibregl-control-container")[0].style="display:none",alert(l.message),e(6,t=[{lngLat:{lng:0,lat:0},name:"❌ An error occurred while fetching your location",label:"Please enable location in your device, allow the browser to access location, and reload the page"}])),r.$$.dirty[0]&2089020&&$.coords){e(13,h=[c.coords.longitude,c.coords.latitude]),H&&(k.flyTo({center:h,zoom:14}),e(17,H=!1));let p=Math.ceil($.coords.accuracy),I="",J=document.getElementById("debug-msg"),se=document.getElementById("scorebox"),S=document.getElementById("distance");p>=20?I="NO GNSS ❌ ":p>=12&&p<20?(J.style.color="#c41f1f",I="█▒▒"):p<12&&p>6?(J.style.color="#c4851f",I="██▒"):(J.style.color="#59c41f",I="███"),J.innerText=I+" "+p+" m",se.innerText=T,e(6,t=[{lngLat:{lng:h[0],lat:h[1]},label:"🧍",name:"Your current position"}]),e(16,u={lngLat:{lng:$.coords.longitude,lat:$.coords.latitude},label:"🧍",name:"Your current position"}),d||(e(3,d=st(u,W)),d=="Game Over"&&alert("Your final score is: "+T),e(15,s={lngLat:{lng:d.longitude,lat:d.latitude},label:"📌",name:d.name}),e(14,g=ct())),e(18,q=Be([u,s])),q!=NaN?S.innerText=q.toFixed(2)+"m":S.innerText="N/A";let ue=d.areaScale*8;q<=ue&&(e(20,[me,T,U]=ut(d.questId,g,R,W,T,U),T,(e(19,U),e(5,$),e(2,c),e(17,H),e(4,k),e(13,h),e(20,T),e(3,d),e(16,u),e(38,W),e(15,s),e(18,q),e(14,g),e(11,R))),e(8,B=Ae(T)),e(3,d=0),S.innerText="N/A")}},[i,l,c,d,k,$,t,o,B,oe,a,R,ne,h,g,s,u,H,q,U,T,z,L,A,ge,le,G,pe,ie,O,be]}class Dt extends ze{constructor(n){super(),Qe(this,n,It,Lt,Fe,{},null,[-1,-1])}}export{Dt as component,Tt as universal};
