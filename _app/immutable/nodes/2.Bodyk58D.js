import{s as je,p as fe,f as _,a as T,l as te,g as y,h as D,d as p,c as E,y as Y,m as ne,j as v,i as N,A as f,B as ve,C as he,n as ke,D as Re,o as He,e as se,z as ze}from"../chunks/scheduler.CoAZU387.js";import{S as Qe,i as Ue,f as ge,b as P,d as V,m as F,a as M,t as S,e as j,g as Ye,c as We}from"../chunks/index.BS_oGWe_.js";import{g as Be,G as Je,M as Ke,a as Te,e as Ee,u as Xe,b as Ze,F as et,h as tt,L as nt,c as ot,D as at,P as Ie,o as rt}from"../chunks/utils.nSssa9Bl.js";const Tt=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"}));function lt(){return{places:[{questId:1,name:"State Library Victoria",description:"State Library Victoria",hint0:"I am a place of knowledge, where the whispers of history echo through my walls of grand halls and a famous dome crowns my central space.",hint1:"I am a place of knowledge, where the whispers of history echo through my walls of grand halls and a famous dome crowns my central space.",hint2:"Established in 1854, I am Australia‚Äôs oldest public library with over 2 million books inside me.",hint3:"Look for my distinctive reading room, which features a stunning circular design and a ceiling adorned with intricate details, making it a popular spot for both study and photography.",latitude:-37.81,longitude:144.964598},{questId:2,name:"Carlton Gardens",description:"Carlton Gardens",hint0:"I‚Äôm a large green space in the center of Melbourne, where history and nature come together, and I have a big building that used to host international exhibitions.",hint1:"I‚Äôm a large green space in the center of Melbourne, where history and nature come together, and I have a big building that used to host international exhibitions.",hint2:"I‚Äôm a UNESCO World Heritage Site that started in the 1850s and became well-known for hosting Australia‚Äôs first Parliament in my famous exhibition building in 1901.",hint3:"Look for my large grassy areas, tree-lined paths, and decorative fountains, along with a children's playground shaped like a Victorian maze, all surrounding a beautiful dome-topped building.",latitude:-37.805431,longitude:144.971399},{questId:3,name:"Eight Hour Day Monument",description:"Eight Hour Day Monument",hint0:"I am a tribute to an important labor movement, featuring three connected figures that represent a balanced life of work, rest, and play.",hint1:"I am a tribute to an important labor movement, featuring three connected figures that represent a balanced life of work, rest, and play.",hint2:"Look for the striking bronze statue of a worker holding a pickaxe, surrounded by intricate engravings that tell the story of labor rights and struggles.",hint3:"Look for my unique granite column with a globe on top and the words 'Rest, Labour, Recreation,' clearly shown at the corner of Russell and Victoria Streets.",latitude:-37.807153,longitude:144.965577},{questId:4,name:"Melbourne Museum",description:"Melbourne Museum",hint0:"I am a place full of knowledge, where history meets today, and I have a giant dinosaur that once walked the Earth.",hint1:"I am a place full of knowledge, where history meets today, and I have a giant dinosaur that once walked the Earth.",hint2:"Founded in 1854, I display Australia's rich cultural heritage, including exhibits on Aboriginal history and Melbourne's development.",hint3:"Look for my eye-catching modern design, with large galleries that feature a lush rainforest and an impressive IMAX theater, all in the World Heritage-listed Royal Exhibition Building.",latitude:-37.8033,longitude:144.971754},{questId:5,name:"French Fountain",description:"French Fountain",hint0:"I am a lovely focal point in an old garden, where water flows beautifully, reflecting the elegance of the past.",hint1:"I am a lovely focal point in an old garden, where water flows beautifully, reflecting the elegance of the past.",hint2:"Originally gifted to Melbourne in the late 19th century, the fountain serves as a symbol of friendship between Melbourne and its sister city, Paris.",hint3:"Look for my detailed lion masks and the beautifully crafted cast iron cap on my basin, all set against the Royal Exhibition Building.",latitude:-37.804866,longitude:144.972849},{questId:6,name:"Charles George Gordon Memorial",description:"Charles George Gordon Memorial",hint0:"Look for a statue of a brave figure standing tall with a cane in one hand and a Bible in the other, where stories of courage can be felt in the park.",hint1:"Look for a statue of a brave figure standing tall with a cane in one hand and a Bible in the other, where stories of courage can be felt in the park.",hint2:"Find me at the corner of Spring and Macarthur Streets, where I sit on a large limestone and granite base, surrounded by greenery and a sense of history.",hint3:"I honor Charles George Gordon, a British Army officer known for his service in various military campaigns, including in China and Sudan.",latitude:-37.808355,longitude:144.972903},{questId:7,name:"Francis Ormond Building",description:"Francis Ormond Building",hint0:"Find the oldest educational building at RMIT, where the drive for self-improvement among working men and women began in the late 19th century.",hint1:"Find the oldest educational building at RMIT, where the drive for self-improvement among working men and women began in the late 19th century.",hint2:"Founded in 1887 as Melbourne's first Working Men's College, I honor my founder, a philanthropist who changed education for the working class.",hint3:"Look for my impressive Gothic Revival architecture on La Trobe Street, with detailed stonework and a prominent statue of my founder in front.",latitude:-37.808906,longitude:144.965215},{questId:8,name:"Old Melbourne Gaol",description:"Old Melbourne Gaol",hint0:"Look for the historic site where notorious criminals were once held, and where the echoes of justice and punishment remain.",hint1:"Look for the historic site where notorious criminals were once held, and where the echoes of justice and punishment remain.",hint2:"Established in 1845 and active until 1924, I am known for holding some of Australia‚Äôs most infamous inmates, including the legendary bushranger Ned Kelly, who met his end here.",hint3:"Find my big bluestone building at 377 Russell Street, with original cells and a gallows, in a museum that shares the stories of those who lived and died here.",latitude:-37.807832,longitude:144.965317},{questId:9,name:"Victorian Trades Hall Council",description:"Victorian Trades Hall Council",hint0:"This building is a significant site for the labor movement in Australia, serving as a venue for important meetings and events related to workers' rights.",hint1:"This building is a significant site for the labor movement in Australia, serving as a venue for important meetings and events related to workers' rights.",hint2:"I am home to the oldest trade union building in the world, where the eight-hour workday was first championed by dedicated laborers.",hint3:"Look for my grand fa√ßade on Lygon Street, featuring a tall clock tower and colorful murals that celebrate the labor movement's history.",latitude:-37.806467,longitude:144.966378},{questId:10,name:"Sir Redmond Barry Statue",description:"Sir Redmond Barry Statue",hint0:"Look for a prominent bronze figure standing proudly outside a grand library, where the pursuit of knowledge and culture is celebrated.",hint1:"Look for a prominent bronze figure standing proudly outside a grand library, where the pursuit of knowledge and culture is celebrated.",hint2:"I honor an important figure in Melbourne's history, known for founding the State Library of Victoria and overseeing the trial of a famous bushranger.",hint3:"Find me at the front of the State Library, on a tall granite base, with detailed bronze work that reflects my legacy.",latitude:-37.810031,longitude:144.964345}]}}function Le(r){let n,e=lt().places;for(let t=0;t<e.length;t++)if(e[t].questId==r)return n=e[t],n}function it(r,n){const o=n.length*50;return 500+Math.max((3600-r)*.05,0)-o}function Ae(r){const n={Novice:0,Explorer:500,Adventurer:1500,Seeker:3e3,Navigator:5e3,Historian:8e3,Pathfinder:12e3,Discoverer:17500,Voyager:25e3,Champion:5e4,Legend:1e5};let e=null;for(let t in n){if(r<n[t])return e;e=t}return e}function st(r,n,e){let t=[],o=[],a=0,i;for(let c=0;c<n.length;c++){let h=n[c],m=Le(h).latitude,s=Le(h).longitude,d=Be([r,{lngLat:{lat:m,lng:s}}]);t.push({id:h,distance:d})}o=t.sort((c,h)=>h.distance-c.distance),console.log("Quests distance:",t),console.log("Quests with shortest distance:",o);let l=Math.floor(Math.random()*n.length);return a=o[l],a==null?(alert("You have completed all the quests. Game over!"),"Game Over"):(i=Le(a.id),alert("Quest: "+i.hint0),i)}function ut(r,n,e,t,o,a){if(!t.includes(r)){console.log("Quest already completed. Skipping.");return}setTimeout(function(){},1e3);let i=t.indexOf(r);t.splice(i,1),a=a+1;const l=it((Date.now()-n)*1e3,e);o=o+l;const c=Ae(o);return console.log("DEBUG"),console.log("Quest ID:",r),console.log("Quest Score:",l),console.log("Total Score:",o),console.log("New Level:",c),console.log("Remaining Quests:",t),console.log("Quests Completed:",a),console.log("Used Hints:",e),e=[],alert("Congratulations! You have completed the quest. Total score: "+l+". Your level: "+c),[e.length,o,a]}function ct(){const r=Date.now();return console.log("Game started at:",r),r}function dt(r,n,e){alert(r.hint1);let t=0,o=r.latitude+t,a=r.longitude+t;e.flyTo({center:[a,o],zoom:14}),n.includes(1)||n.push(1)}function ft(r,n){if(!n.includes(1)){alert("You need to use the previous hints first.");return}alert(r.hint2),n.includes(2)||n.push(2)}function ht(r,n){if(!n.includes(1)||!n.includes(2)){alert("You need to use the previous hints first.");return}alert(r.hint3),n.includes(3)||n.push(3)}function De(r,n,e){const t=r.slice();return t[39]=n[e].lngLat,t[40]=n[e].label,t[41]=n[e].name,t[43]=e,t}function Ne(r){var e;const n=(e=r[44])==null?void 0:e.properties;r[45]=n}function gt(r){let n,e;return n=new Ze({props:{id:"geojsonData",data:r[9],promoteId:"name",$$slots:{default:[bt]},$$scope:{ctx:r}}}),{c(){P(n.$$.fragment)},l(t){V(n.$$.fragment,t)},m(t,o){F(n,t,o),e=!0},p(t,o){const a={};o[0]&512&&(a.data=t[9]),o[1]&32768&&(a.$$scope={dirty:o,ctx:t}),n.$set(a)},i(t){e||(M(n.$$.fragment,t),e=!0)},o(t){S(n.$$.fragment,t),e=!1},d(t){j(n,t)}}}function xe(r){let n,e,t=r[45].name+"",o;return{c(){n=_("div"),e=_("p"),o=te(t),this.h()},l(a){n=y(a,"DIV",{class:!0});var i=D(n);e=y(i,"P",{});var l=D(e);o=ne(l,t),l.forEach(p),i.forEach(p),this.h()},h(){v(n,"class","flex flex-col gap-2")},m(a,i){N(a,n,i),f(n,e),f(e,o)},p(a,i){i[1]&8192&&t!==(t=a[45].name+"")&&ke(o,t)},d(a){a&&p(n)}}}function mt(r){Ne(r);let n,e=r[45]&&xe(r);return{c(){e&&e.c(),n=se()},l(t){e&&e.l(t),n=se()},m(t,o){e&&e.m(t,o),N(t,n,o)},p(t,o){Ne(t),t[45]?e?e.p(t,o):(e=xe(t),e.c(),e.m(n.parentNode,n)):e&&(e.d(1),e=null)},d(t){t&&p(n),e&&e.d(t)}}}function pt(r){let n,e;return n=new Ie({props:{openOn:"hover",$$slots:{default:[mt,({data:t})=>({44:t}),({data:t})=>[0,t?8192:0]]},$$scope:{ctx:r}}}),{c(){P(n.$$.fragment)},l(t){V(n.$$.fragment,t)},m(t,o){F(n,t,o),e=!0},p(t,o){const a={};o[1]&40960&&(a.$$scope={dirty:o,ctx:t}),n.$set(a)},i(t){e||(M(n.$$.fragment,t),e=!0)},o(t){S(n.$$.fragment,t),e=!1},d(t){j(n,t)}}}function bt(r){let n,e,t,o;return n=new et({props:{paint:{"fill-color":tt("purple","yellow"),"fill-opacity":.3},beforeLayerType:"symbol",manageHoverState:!0,$$slots:{default:[pt]},$$scope:{ctx:r}}}),t=new nt({props:{layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":"purple","line-width":3},beforeLayerType:"symbol"}}),{c(){P(n.$$.fragment),e=T(),P(t.$$.fragment)},l(a){V(n.$$.fragment,a),e=E(a),V(t.$$.fragment,a)},m(a,i){F(n,a,i),N(a,e,i),F(t,a,i),o=!0},p(a,i){const l={};i[1]&32768&&(l.$$scope={dirty:i,ctx:a}),n.$set(l)},i(a){o||(M(n.$$.fragment,a),M(t.$$.fragment,a),o=!0)},o(a){S(n.$$.fragment,a),S(t.$$.fragment,a),o=!1},d(a){a&&p(e),j(n,a),j(t,a)}}}function _t(r){let n,e=r[41]+"",t;return{c(){n=_("div"),t=te(e),this.h()},l(o){n=y(o,"DIV",{class:!0});var a=D(n);t=ne(a,e),a.forEach(p),this.h()},h(){v(n,"class","text-lg font-bold")},m(o,a){N(o,n,a),f(n,t)},p(o,a){a[0]&64&&e!==(e=o[41]+"")&&ke(t,e)},d(o){o&&p(n)}}}function yt(r){let n,e=r[40]+"",t,o,a,i;return a=new Ie({props:{openOn:"hover",offset:[0,-10],$$slots:{default:[_t]},$$scope:{ctx:r}}}),{c(){n=_("span"),t=te(e),o=T(),P(a.$$.fragment)},l(l){n=y(l,"SPAN",{});var c=D(n);t=ne(c,e),c.forEach(p),o=E(l),V(a.$$.fragment,l)},m(l,c){N(l,n,c),f(n,t),N(l,o,c),F(a,l,c),i=!0},p(l,c){(!i||c[0]&64)&&e!==(e=l[40]+"")&&ke(t,e);const h={};c[0]&64|c[1]&32768&&(h.$$scope={dirty:c,ctx:l}),a.$set(h)},i(l){i||(M(a.$$.fragment,l),i=!0)},o(l){S(a.$$.fragment,l),i=!1},d(l){l&&(p(n),p(o)),j(a,l)}}}function qe(r,n){let e,t,o;return t=new ot({props:{lngLat:n[39],class:"text-4xl text-black",$$slots:{default:[yt]},$$scope:{ctx:n}}}),{key:r,first:null,c(){e=se(),P(t.$$.fragment),this.h()},l(a){e=se(),V(t.$$.fragment,a),this.h()},h(){this.first=e},m(a,i){N(a,e,i),F(t,a,i),o=!0},p(a,i){n=a;const l={};i[0]&64&&(l.lngLat=n[39]),i[0]&64|i[1]&32768&&(l.$$scope={dirty:i,ctx:n}),t.$set(l)},i(a){o||(M(t.$$.fragment,a),o=!0)},o(a){S(t.$$.fragment,a),o=!1},d(a){a&&p(e),j(t,a)}}}function wt(r){let n,e;return n=new at({props:{lngLat:r[12].lngLat,$$slots:{default:[kt]},$$scope:{ctx:r}}}),{c(){P(n.$$.fragment)},l(t){V(n.$$.fragment,t)},m(t,o){F(n,t,o),e=!0},p(t,o){const a={};o[1]&32768&&(a.$$scope={dirty:o,ctx:t}),n.$set(a)},i(t){e||(M(n.$$.fragment,t),e=!0)},o(t){S(n.$$.fragment,t),e=!1},d(t){j(n,t)}}}function vt(r){let n,e="You";return{c(){n=_("div"),n.textContent=e,this.h()},l(t){n=y(t,"DIV",{class:!0,"data-svelte-h":!0}),Y(n)!=="svelte-1wiwej8"&&(n.textContent=e),this.h()},h(){v(n,"class","text-lg font-bold")},m(t,o){N(t,n,o)},p:ze,d(t){t&&p(n)}}}function kt(r){let n,e;return n=new Ie({props:{offset:[0,-10],$$slots:{default:[vt]},$$scope:{ctx:r}}}),{c(){P(n.$$.fragment)},l(t){V(n.$$.fragment,t)},m(t,o){F(n,t,o),e=!0},p(t,o){const a={};o[1]&32768&&(a.$$scope={dirty:o,ctx:t}),n.$set(a)},i(t){e||(M(n.$$.fragment,t),e=!0)},o(t){S(n.$$.fragment,t),e=!1},d(t){j(n,t)}}}function $t(r){let n,e=[],t=new Map,o,a,i,l=gt(r),c=Ee(r[6]);const h=s=>s[43];for(let s=0;s<c.length;s+=1){let u=De(r,c,s),d=h(u);t.set(d,e[s]=qe(d,u))}let m=r[12].lngLat&&wt(r);return{c(){l&&l.c(),n=T();for(let s=0;s<e.length;s+=1)e[s].c();o=te(`\r
\r
        Display the watched position as a marker\r
        `),m&&m.c(),a=se()},l(s){l&&l.l(s),n=E(s);for(let u=0;u<e.length;u+=1)e[u].l(s);o=ne(s,`\r
\r
        Display the watched position as a marker\r
        `),m&&m.l(s),a=se()},m(s,u){l&&l.m(s,u),N(s,n,u);for(let d=0;d<e.length;d+=1)e[d]&&e[d].m(s,u);N(s,o,u),m&&m.m(s,u),N(s,a,u),i=!0},p(s,u){l.p(s,u),u[0]&64&&(c=Ee(s[6]),Ye(),e=Xe(e,u,h,1,s,c,t,o.parentNode,rt,qe,o,De),We()),s[12].lngLat&&m.p(s,u)},i(s){if(!i){M(l);for(let u=0;u<c.length;u+=1)M(e[u]);M(m),i=!0}},o(s){S(l);for(let u=0;u<e.length;u+=1)S(e[u]);S(m),i=!1},d(s){s&&(p(n),p(o),p(a)),l&&l.d(s);for(let u=0;u<e.length;u+=1)e[u].d(s);m&&m.d(s)}}}function Lt(r){let n,e,t,o,a,i,l,c,h,m,s=`GNSS Quality: ¬†
            <span id="debug-msg" class="tracking-tighter">N/A</span>`,u,d,me=`Distance: ¬†
            <span id="distance">N/A</span>`,H,k,x,q,R="N/A",W,z,C,L,oe,ae,Q,I,B,pe="Center",ue,A,be="Hint 1",ce,G,_e="Hint 2",b,O,ye="Hint 3",J,$,de,K,re,le,Me;function Ge(g){r[21](g)}function Oe(g){r[22](g)}function Pe(g){r[23](g)}let we={getPosition:!0,options:r[10],watch:!0};r[2]!==void 0&&(we.position=r[2]),r[0]!==void 0&&(we.success=r[0]),r[1]!==void 0&&(we.error=r[1]),o=new Je({props:we}),fe.push(()=>ge(o,"position",Ge)),fe.push(()=>ge(o,"success",Oe)),fe.push(()=>ge(o,"error",Pe)),o.$on("position",r[24]);function Ve(g){r[29](g)}function Fe(g){r[30](g)}let $e={class:"map flex-grow min-h-[500px] gameMapControl",standardControls:!0,style:"https://tiles.basemaps.cartocdn.com/gl/voyager-gl-style/style.json",zoom:14,$$slots:{default:[$t]},$$scope:{ctx:r}};return r[7]!==void 0&&($e.bounds=r[7]),r[4]!==void 0&&($e.map=r[4]),$=new Ke({props:$e}),fe.push(()=>ge($,"bounds",Ve)),fe.push(()=>ge($,"map",Fe)),{c(){n=_("div"),e=_("div"),t=_("div"),P(o.$$.fragment),c=T(),h=_("div"),m=_("div"),m.innerHTML=s,u=T(),d=_("div"),d.innerHTML=me,H=T(),k=_("div"),x=te(`Score: ¬†\r
            `),q=_("span"),q.textContent=R,W=T(),z=_("br"),C=te(`\r
            Level: ¬†\r
            `),L=_("span"),oe=te(r[8]),ae=T(),Q=_("div"),I=_("div"),B=_("button"),B.textContent=pe,ue=T(),A=_("button"),A.textContent=be,ce=T(),G=_("button"),G.textContent=_e,b=T(),O=_("button"),O.textContent=ye,J=T(),P($.$$.fragment),this.h()},l(g){n=y(g,"DIV",{class:!0});var w=D(n);e=y(w,"DIV",{class:!0});var X=D(e);t=y(X,"DIV",{class:!0});var Z=D(t);V(o.$$.fragment,Z),Z.forEach(p),X.forEach(p),c=E(w),h=y(w,"DIV",{class:!0});var ie=D(h);m=y(ie,"DIV",{class:!0,"data-svelte-h":!0}),Y(m)!=="svelte-1gpzh7c"&&(m.innerHTML=s),u=E(ie),d=y(ie,"DIV",{class:!0,"data-svelte-h":!0}),Y(d)!=="svelte-172gan1"&&(d.innerHTML=me),H=E(ie),k=y(ie,"DIV",{class:!0});var ee=D(k);x=ne(ee,`Score: ¬†\r
            `),q=y(ee,"SPAN",{id:!0,"data-svelte-h":!0}),Y(q)!=="svelte-7g7nib"&&(q.textContent=R),W=E(ee),z=y(ee,"BR",{}),C=ne(ee,`\r
            Level: ¬†\r
            `),L=y(ee,"SPAN",{id:!0,class:!0});var Se=D(L);oe=ne(Se,r[8]),Se.forEach(p),ee.forEach(p),ie.forEach(p),ae=E(w),Q=y(w,"DIV",{class:!0});var Ce=D(Q);I=y(Ce,"DIV",{class:!0});var U=D(I);B=y(U,"BUTTON",{class:!0,"data-svelte-h":!0}),Y(B)!=="svelte-11ne4ul"&&(B.textContent=pe),ue=E(U),A=y(U,"BUTTON",{class:!0,"data-svelte-h":!0}),Y(A)!=="svelte-1k1teut"&&(A.textContent=be),ce=E(U),G=y(U,"BUTTON",{class:!0,"data-svelte-h":!0}),Y(G)!=="svelte-1rf97u5"&&(G.textContent=_e),b=E(U),O=y(U,"BUTTON",{class:!0,"data-svelte-h":!0}),Y(O)!=="svelte-rn1029"&&(O.textContent=ye),U.forEach(p),Ce.forEach(p),J=E(w),V($.$$.fragment,w),w.forEach(p),this.h()},h(){v(t,"class","col-span-4 md:col-span-1 text-center"),v(e,"class","grid grid-cols-4"),v(m,"class","flex items-center"),v(d,"class","ml-auto"),v(q,"id","scorebox"),v(L,"id","level"),v(L,"class","mt-1"),v(k,"class","ml-auto"),v(h,"class","px-8 flex new-row items-center w-30 max-w-30 font-bold text-sm"),v(B,"class","btn-sm btn-ghost text-sm"),v(A,"class","btn-sm btn-ghost text-sm mx-2"),v(G,"class","btn-sm btn-ghost text-sm mx-2"),v(O,"class","btn-sm btn-ghost text-sm mx-2"),v(I,"class","flex justify-center align-middle mt-2"),v(Q,"class","flex flex-col items-center"),v(n,"class","flex flex-col h-[calc(100vh-80px)] w-full")},m(g,w){N(g,n,w),f(n,e),f(e,t),F(o,t,null),f(n,c),f(n,h),f(h,m),f(h,u),f(h,d),f(h,H),f(h,k),f(k,x),f(k,q),f(k,W),f(k,z),f(k,C),f(k,L),f(L,oe),f(n,ae),f(n,Q),f(Q,I),f(I,B),f(I,ue),f(I,A),f(I,ce),f(I,G),f(I,b),f(I,O),f(n,J),F($,n,null),re=!0,le||(Me=[ve(B,"click",r[25]),ve(A,"click",r[26]),ve(G,"click",r[27]),ve(O,"click",r[28])],le=!0)},p(g,w){const X={};!a&&w[0]&4&&(a=!0,X.position=g[2],he(()=>a=!1)),!i&&w[0]&1&&(i=!0,X.success=g[0],he(()=>i=!1)),!l&&w[0]&2&&(l=!0,X.error=g[1],he(()=>l=!1)),o.$set(X),(!re||w[0]&256)&&ke(oe,g[8]);const Z={};w[0]&576|w[1]&32768&&(Z.$$scope={dirty:w,ctx:g}),!de&&w[0]&128&&(de=!0,Z.bounds=g[7],he(()=>de=!1)),!K&&w[0]&16&&(K=!0,Z.map=g[4],he(()=>K=!1)),$.$set(Z)},i(g){re||(M(o.$$.fragment,g),M($.$$.fragment,g),re=!0)},o(g){S(o.$$.fragment,g),S($.$$.fragment,g),re=!1},d(g){g&&p(n),j(o),j($),le=!1,Re(Me)}}}function It(r,n,e){let t=[{lngLat:{lng:0,lat:0},label:"‚åõ Loading...",name:"Please wait for the game to load"}],o=Te(t);const a={enableHighAccuracy:!0,timeout:1/0,maximumAge:0};let i=!1,l="",c={},h=[144.9639,-37.8083],m,s,u={},d=0,me=0,H=!0,k,x="N/A",q="Novice",R=[],W=[1,2,3],z=0,C=0,L={},oe={},ae;He(async()=>{const b=await fetch("melbourne.geojson");e(9,ae=await b.json())});function Q(b){c=b,e(2,c)}function I(b){i=b,e(0,i)}function B(b){l=b,e(1,l)}const pe=b=>{e(5,L=b.detail)},ue=()=>{e(7,o=Te(t))},A=()=>dt(d,R,k),be=()=>ft(d,R),ce=()=>ht(d,R);function G(b){o=b,e(7,o)}function _e(b){k=b,e(4,k)}return r.$$.update=()=>{if(r.$$.dirty[0]&1,r.$$.dirty[0]&2&&l&&(console.error("Error:",l.message),document.getElementsByClassName("maplibregl-control-container")[0].style="display:none",alert(l.message),e(6,t=[{lngLat:{lng:0,lat:0},name:"‚ùå An error occurred while fetching your location",label:"Please enable location in your device, allow the browser to access location, and reload the page"}])),r.$$.dirty[0]&2089020&&L.coords){e(13,h=[c.coords.longitude,c.coords.latitude]),H&&(k.flyTo({center:h,zoom:14}),e(17,H=!1));let b=Math.floor(Math.min(100,Math.max(36-L.coords.accuracy,1)*3)),O="‚ñí",ye="‚ñà",J="‚ñí‚ñí‚ñí";for(let le=0;le<b/30;le++)J=J.replace(O,ye);let $=document.getElementById("debug-msg"),de=document.getElementById("scorebox"),K=document.getElementById("distance");$.innerText=" "+J+" "+b+"%",b<30?$.innerText="NO GNSS":b<50?$.style.color="#c41f1f":b<75?$.style.color="#c4851f":$.style.color="#59c41f",de.innerText=C,e(6,t=[{lngLat:{lng:h[0],lat:h[1]},label:"üßç",name:"Your current position"}]),e(16,u={lngLat:{lng:L.coords.longitude,lat:L.coords.latitude},label:"üßç",name:"Your current position"}),d||(e(3,d=st(u,W)),d=="Game Over"&&alert("Your final score is: "+C),e(15,s={lngLat:{lng:d.longitude,lat:d.latitude},label:"üìå",name:d.name}),e(14,m=ct())),e(18,x=Be([u,s])),x!=NaN?K.innerText=x.toFixed(2)+"m":K.innerText="N/A",x<=15&&(e(20,[me,C,z]=ut(d.questId,m,R,W,C,z),C,(e(19,z),e(5,L),e(2,c),e(17,H),e(4,k),e(13,h),e(20,C),e(3,d),e(16,u),e(38,W),e(15,s),e(18,x),e(14,m),e(11,R))),e(8,q=Ae(C)),e(3,d=0),K.innerText="N/A")}},[i,l,c,d,k,L,t,o,q,ae,a,R,oe,h,m,s,u,H,x,z,C,Q,I,B,pe,ue,A,be,ce,G,_e]}class Et extends Qe{constructor(n){super(),Ue(this,n,It,Lt,je,{},null,[-1,-1])}}export{Et as component,Tt as universal};
